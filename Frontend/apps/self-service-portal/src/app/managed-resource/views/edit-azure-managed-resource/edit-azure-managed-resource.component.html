<mui-view-header title="Azure Managed Resource">
</mui-view-header>

<div class="row" *ngIf="viewModel">

    <mui-card class="col s12">
        <mui-card-content title="Base Data">
            <p>Enter base data of the managed resource in the form below.</p>
            <form #baseDataForm="ngForm">
                <div class="row">
                    <mui-text-box class="col s12" name="name" label="Name" required minlength="3" [(ngModel)]="viewModel.baseData.name"></mui-text-box>
                    <mui-text-box class="col s12" name="description" label="Description" required [(ngModel)]="viewModel.baseData.description"></mui-text-box>
                </div>
            </form>
            <button class="btn" [disabled]="!baseDataForm.valid" (click)="_onSave(viewModel.baseData)">Save</button>
        </mui-card-content>
    </mui-card>

    <mui-card class="col s12">
        <mui-card-content title="Compliance Settings">
            <p>Enter the ID of an azure policy initiative definition and the assignment name to be used during prepare phase.</p>
            <form #complianceSettingsForm="ngForm">
                <div class="row">
                    <mui-text-box class="col s12" name="initiativeAssignmentName" label="Assignment Name" required minlength="3" [(ngModel)]="viewModel.complianceSettings.initiativeAssignmentName"></mui-text-box>
                    <mui-text-box class="col s12" name="initiativeDefinitionId" label="Definition ID" required [(ngModel)]="viewModel.complianceSettings.initiativeDefinitionId"></mui-text-box>
                </div>
            </form>
            <button class="btn" [disabled]="!complianceSettingsForm.valid" (click)="_onSave(viewModel.complianceSettings)">Save</button>
        </mui-card-content>
    </mui-card>

    <mui-card class="col s12">
        <mui-card-content title="ARM Template">
            <p>Specifiy the ARM template to use for this managed resource.</p>
            <form #armTemplateForm="ngForm">
                <div class="row">
                    <mui-text-area class="col s12" name="template" label="Template" required [(ngModel)]="viewModel.armTemplate.template"></mui-text-area>
                </div>
            </form>
            <button class="btn" [disabled]="!armTemplateForm.valid" (click)="_onSave(viewModel.armTemplate)">Save</button>
        </mui-card-content>
    </mui-card>

</div>